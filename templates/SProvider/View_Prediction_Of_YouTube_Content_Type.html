{% extends 'base.html' %}

{% block title %}View Predictions{% endblock %}

{% block content %}
<div class="card">
    <h2 style="text-align: center; margin-bottom: 2rem;">Content Predictions</h2>
    
    <div style="text-align: center; margin-bottom: 1rem;">
        <a href="{% url 'View_Remote_Users' %}" class="btn">View Users</a>
        <a href="{% url 'View_Prediction_Of_YouTube_Content_Ratio' %}" class="btn">View Ratios</a>
        <a href="{% url 'train_model' %}" class="btn">Train Model</a>
        <a href="{% url 'index' %}" class="btn" style="background-color: #e74c3c;">Logout</a>
    </div>
    
    {% if list_objects %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Channel</th>
                <th>Category</th>
                <th>Views</th>
                <th>Likes</th>
                <th>Prediction</th>
            </tr>
        </thead>
        <tbody>
            {% for obj in list_objects %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ obj.title|truncatewords:5 }}</td>
                <td>{{ obj.channel_title }}</td>
                <td>{{ obj.category }}</td>
                <td>{{ obj.views }}</td>
                <td>{{ obj.likes }}</td>
                <td>
                    {% if obj.Prediction == 'True Content' %}
                    <span style="color: green; font-weight: bold;">✓ {{ obj.Prediction }}</span>
                    {% else %}
                    <span style="color: red; font-weight: bold;">⚠ {{ obj.Prediction }}</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="text-align: center;">No predictions available yet.</p>
    {% endif %}
</div>
{% endblock %}
